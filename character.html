<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="page_title">Scheda Personaggio - Chronicles of Darkness</title>
    <link rel="stylesheet" href="anni50.css">
    <!-- Aggiungiamo Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>

    <header>
        <h1 data-i18n="page_title">Scheda Personaggio - Chronicles of Darkness</h1>
    </header>

    <main>
        <section id="info-personaggio">
            <div class="section-header">
                <i class="lock-icon fas fa-eye" title="Blocca/Sblocca Sezione" data-i18n-title="title_lock"></i>
                <h2 data-i18n="sect_info">Informazioni di Base</h2>
            </div>
            <div class="gruppi-tratti-container">
                <!-- Colonna Sinistra: Dati -->
                <div class="colonna-tratti">
                    <div class="riga-tratto-principale">
                        <label for="nome" data-i18n="label_name">Nome:</label>
                        <input type="text" id="nome" name="nome">
                    </div>
                    <div class="riga-tratto-principale">
                        <label for="cronaca" data-i18n="label_chronicle">Cronaca:</label>
                        <input type="text" id="cronaca" name="cronaca">
                    </div>
                    <div class="riga-tratto-principale">
                        <label for="concetto" data-i18n="label_concept">Concetto:</label>
                        <input type="text" id="concetto" name="concetto">
                    </div>
                    <div class="riga-tratto-principale">
                        <label for="giocatore" data-i18n="label_player">Giocatore:</label>
                        <input type="text" id="giocatore" name="giocatore">
                    </div>
                    <div class="riga-tratto-principale">
                        <label for="eta" data-i18n="label_age">Età:</label>
                        <input type="text" id="eta" name="eta">
                    </div>
                    <div class="riga-tratto-principale">
                        <label for="fazione" data-i18n="label_faction">Fazione:</label>
                        <input type="text" id="fazione" name="fazione">
                    </div>
                    <div class="riga-tratto-principale">
                        <label for="virtu" data-i18n="label_virtue">Virtù:</label>
                        <input type="text" id="virtu" name="virtu">
                    </div>
                    <div class="riga-tratto-principale">
                        <label for="vizio" data-i18n="label_vice">Vizio:</label>
                        <input type="text" id="vizio" name="vizio">
                    </div>
                </div>
                <!-- Colonna Centrale: Vuota -->
                <div class="colonna-tratti">
                    <!-- Spazio vuoto per usi futuri -->
                </div>
                <!-- Colonna Destra: Immagine -->
                <div class="colonna-tratti">
                    <div id="character-image-container" class="character-image-box">
                        <img id="character-image-preview" src="#" alt="Anteprima Personaggio">
                        <div class="image-placeholder">
                            <span>+</span>
                            <p data-i18n="ui_add_image">Aggiungi Immagine</p>
                        </div>
                        <input type="file" id="image-upload" accept="image/*" style="display: none;">
                    </div>
                </div>
            </div>
        </section>
        
        <section id="attributi">
            <div class="section-header">
                <i class="lock-icon fas fa-eye" title="Blocca/Sblocca Sezione" data-i18n-title="title_lock"></i>
                <h2 data-i18n="sect_attributes">Attributi</h2>
            </div>
            <div class="gruppi-tratti-container">
                <div class="colonna-tratti">
                    <div class="riga-tratto">
                        <label data-i18n="attr_intelligence">Intelligenza</label> <div class="punti" data-tratto="intelligenza"></div>
                    </div>
                    <div class="riga-tratto">
                        <label data-i18n="attr_wits">Prontezza</label> <div class="punti" data-tratto="prontezza"></div>
                    </div>
                    <div class="riga-tratto">
                        <label data-i18n="attr_resolve">Fermezza</label> <div class="punti" data-tratto="fermezza"></div>
                    </div>
                </div>
                <div class="colonna-tratti">
                    <div class="riga-tratto">
                        <label data-i18n="attr_strength">Forza</label> <div class="punti" data-tratto="forza"></div>
                    </div>
                    <div class="riga-tratto">
                        <label data-i18n="attr_dexterity">Destrezza</label> <div class="punti" data-tratto="destrezza"></div>
                    </div>
                    <div class="riga-tratto">
                        <label data-i18n="attr_stamina">Costituzione</label> <div class="punti" data-tratto="costituzione"></div>
                    </div>
                </div>
                <div class="colonna-tratti">
                    <div class="riga-tratto">
                        <label data-i18n="attr_presence">Presenza</label> <div class="punti" data-tratto="presenza"></div>
                    </div>
                    <div class="riga-tratto">
                        <label data-i18n="attr_manipulation">Persuasione</label> <div class="punti" data-tratto="persuasione"></div>
                    </div>
                    <div class="riga-tratto">
                        <label data-i18n="attr_composure">Autocontrollo</label> <div class="punti" data-tratto="autocontrollo"></div>
                    </div>
                </div>
            </div>
        </section>

        <section id="abilita">
            <div class="section-header">
                <i class="lock-icon fas fa-eye" title="Blocca/Sblocca Sezione" data-i18n-title="title_lock"></i>
                <h2 data-i18n="sect_skills">Abilità</h2>
            </div>
            <div class="gruppi-tratti-container">
                <div class="colonna-tratti">
                    <h3 data-i18n="cat_mental">Mentali</h3>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_academics">Accademiche</label><div class="punti" data-tratto="accademiche"></div></div>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_computer">Computer</label><div class="punti" data-tratto="computer"></div></div>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_crafts">Espressività</label><div class="punti" data-tratto="espressivita"></div></div>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_investigation">Indagare</label><div class="punti" data-tratto="indagare"></div></div>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_medicine">Medicina</label><div class="punti" data-tratto="medicina"></div></div>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_occult">Occulto</label><div class="punti" data-tratto="occulto"></div></div>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_politics">Politica</label><div class="punti" data-tratto="politica"></div></div>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_science">Scienza</label><div class="punti" data-tratto="scienza"></div></div>
                </div>
                <div class="colonna-tratti">
                    <h3 data-i18n="cat_physical">Fisiche</h3>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_firearms">Armi da Fuoco</label><div class="punti" data-tratto="armi_da_fuoco"></div></div>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_weaponry">Armi da Mischia</label><div class="punti" data-tratto="armi_da_mischia"></div></div>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_athletics">Atletica</label><div class="punti" data-tratto="atletica"></div></div>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_stealth">Furtività</label><div class="punti" data-tratto="furtivita"></div></div>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_drive">Guidare</label><div class="punti" data-tratto="guidare"></div></div>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_larceny">Ladro</label><div class="punti" data-tratto="ladro"></div></div>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_brawl">Rissa</label><div class="punti" data-tratto="rissa"></div></div>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_survival">Sopravvivenza</label><div class="punti" data-tratto="sopravvivenza"></div></div>
                </div>
                <div class="colonna-tratti">
                    <h3 data-i18n="cat_social">Sociali</h3>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_animal_ken">Animale</label><div class="punti" data-tratto="animale"></div></div>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_streetwise">Conoscenza della Strada</label><div class="punti" data-tratto="conoscenza_strada"></div></div>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_empathy">Empatia</label><div class="punti" data-tratto="empatia"></div></div>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_intimidation">Intimidire</label><div class="punti" data-tratto="intimidire"></div></div>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_insight">Perspicacia</label><div class="punti" data-tratto="perspicacia"></div></div>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_subterfuge">Raggirare</label><div class="punti" data-tratto="raggirare"></div></div>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_socialize">Socialità</label><div class="punti" data-tratto="socialita"></div></div>
                    <div class="riga-tratto"><span class="specializzazione"></span><label data-i18n="skill_deception">Sotterfugio</label><div class="punti" data-tratto="sotterfugio"></div></div>
                </div>
            </div>
        </section>

        <section id="specializzazioni-attive">
            <div class="section-header">
                <i class="lock-icon fas fa-eye" title="Blocca/Sblocca Sezione" data-i18n-title="title_lock"></i>
                <h2 data-i18n="sect_specializations">Specializzazioni</h2>
            </div>
            <div class="colonna-tratti">
                <!-- Le righe delle specializzazioni verranno inserite qui dinamicamente da JavaScript -->
                <div id="contenitore-specializzazioni"></div>
            </div>
        </section>

        <section id="pregi">
            <div class="section-header">
                <i class="lock-icon fas fa-eye" title="Blocca/Sblocca Sezione" data-i18n-title="title_lock"></i>
                <h2 data-i18n="sect_merits">Pregi</h2>
            </div>
            <div class="gruppi-tratti-container">
                <div class="colonna-tratti">
                    <div class="contenitore-pregi" id="pregi-col-1"></div>
                    <div class="pregio-buttons">
                        <button class="aggiungi-pregio-btn" data-colonna="pregi-col-1">+</button>
                        <button class="rimuovi-pregio-btn" data-colonna="pregi-col-1">-</button>
                    </div>
                </div>
                <div class="colonna-tratti">
                    <div class="contenitore-pregi" id="pregi-col-2"></div>
                    <div class="pregio-buttons">
                        <button class="aggiungi-pregio-btn" data-colonna="pregi-col-2">+</button>
                        <button class="rimuovi-pregio-btn" data-colonna="pregi-col-2">-</button>
                    </div>
                </div>
                <div class="colonna-tratti">
                    <div class="contenitore-pregi" id="pregi-col-3"></div>
                    <div class="pregio-buttons">
                        <button class="aggiungi-pregio-btn" data-colonna="pregi-col-3">+</button>
                        <button class="rimuovi-pregio-btn" data-colonna="pregi-col-3">-</button>
                    </div>
                </div>
            </div>
        </section>

        <section id="tratti-principali">
            <div class="section-header">
                <i class="lock-icon fas fa-eye" title="Blocca/Sblocca Sezione" data-i18n-title="title_lock"></i>
                <h2 data-i18n="sect_main_traits">Tratti Principali</h2>
            </div>
            <div class="riga-tratto-principale riga-tratto-spaziato">
                <label for="integrita" data-i18n="label_integrity">Integrità:</label>
                <div class="punti" data-tratto="integrita" data-max="15"></div>
            </div>
            <div class="riga-tratto-principale riga-doppia-scala">
                <label data-i18n="label_health">Salute Fisica:</label>
                <div class="contenitore-doppia-scala" id="scala-salute" data-tratto="salute" data-max="15"></div>
            </div>
            <div class="riga-tratto-principale riga-doppia-scala">
                <label data-i18n="label_sanity">Sanità Mentale:</label>
                <div class="contenitore-doppia-scala" id="scala-sanita" data-tratto="sanita" data-max="15"></div>
            </div>
            <div class="riga-tratto-principale riga-doppia-scala">
                <label data-i18n="label_willpower">Volontà:</label>
                <div class="contenitore-doppia-scala" id="scala-volonta" data-tratto="volonta" data-max="15"></div>
            </div>
            <div class="riga-tratto-principale riga-tratto-semplice">
                <label for="taglia" data-i18n="label_size">Taglia:</label>
                <input type="number" id="taglia" value="5" class="valore-calcolato">
            </div>
            <div class="riga-tratto-principale">
                <label for="valore-iniziativa" data-i18n="label_init_mod">Mod. Iniziativa:</label>
                <span id="valore-iniziativa" class="valore-calcolato">0</span>
            </div>
            <div class="riga-tratto-principale">
                <label for="valore-difesa" data-i18n="label_defense">Difesa:</label>
                <span id="valore-difesa" class="valore-calcolato">0</span>
            </div>
            <div class="riga-tratto-principale">
                <label for="valore-velocita" data-i18n="label_speed">Velocità:</label>
                <span id="valore-velocita" class="valore-calcolato">0</span>
            </div>
            <div class="riga-tratto-principale">
                <label for="armatura" data-i18n="label_armor">Armatura:</label>
                <input type="text" id="armatura" value="0" class="valore-calcolato">
            </div>
            <div class="riga-tratto-principale riga-tratto-spaziato">
                <label for="esperienza-totale" data-i18n="label_exp_total">Exp. Totale:</label>
                <input type="number" id="esperienza-totale" value="0" class="valore-calcolato">
            </div>
            <div class="riga-tratto-principale">
                <label for="esperienza-spesa" data-i18n="label_exp_spent">Exp. Spesa:</label>
                <input type="number" id="esperienza-spesa" value="0" class="valore-calcolato">
            </div>
            <div class="riga-tratto-principale">
                <label for="esperienza-rimanente" data-i18n="label_exp_remaining">Exp. Rimanente:</label>
                <span id="esperienza-rimanente" class="valore-calcolato">0</span>
            </div>
        </section>
    </main>

    <footer>
        <button id="salva-btn" data-i18n="btn_save">Salva Personaggio</button>
        <button id="carica-btn" data-i18n="btn_load">Carica Personaggio</button>
    </footer>

    <!-- Carichiamo gli SDK di Firebase (necessari prima di script.js) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

    <!-- Configurazione Firebase -->
    <script src="js/firebase-config.js"></script>

    <!-- Carichiamo il file di lingua -->
    <script src="language/it.js"></script>
    <!-- Carichiamo un unico script che gestirà tutto -->
    <script src="js/script.js"></script>

</body>
</html>